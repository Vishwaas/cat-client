<div class="config-box">
  <ActionableHeader>
    <h3 on:click="fire('detail', {selectedConfiguration: config})" class="clickable" slot="header">{config.desc}</h3>
    <a class="glyphicon glyphicon-edit icon-btn" href="edit/{config.id}" title="Edit {config.desc}" slot="actions" />
    <button class="glyphicon glyphicon-trash icon-btn" on:click="fire('delete', {selectedConfiguration: config})" title="Delete {config.desc}" slot="actions" ></button>
  </ActionableHeader>
  <div class="field-row">
    <span>Screener Id</span>
    <span>{config.screenerId}</span>
  </div>
  <div class="field-row">
    <span>Field Count</span>
    <span>{config.fields && config.fields.length || 0}</span>
  </div>
</div>

<script>
  import ActionableHeader from "./actionable-header.html";
  import * as sapper from "../../__sapper__/client.js";
  import AjaxService from "../services/ajax";

  export default {
    components: {
      ActionableHeader
    },
    computed: {
      topTwoFields: ({ config }) => {
        return (config && config.fields && config.fields.slice(0, 2)) || [];
      }
    },
    data() {
      return {
        config: {
          fields: []
        }
      };
    }
  };
</script>

<style type="text/scss" scoped>
  .config-box {
    width: 300px;
    margin: 5px 15px 5px 0px;
    border: 1px solid grey;
    border-radius: 5px;
    box-shadow: 3px 0px 3px 0px grey;
    padding: 0px 10px 20px;
    position: relative;
    height: 150px;
    overflow: hidden;
    &::after {
      position: absolute;
      content: "...";
      text-align: center;
      line-height: 20px;
      vertical-align: middle;
      width: 280px;
      height: 20px;
      bottom: 0px;
      font-size: 2rem;
      font-weight: bold;
    }
  }

  .field-row {
    display: flex;
    justify-content: space-between;
    align-content: center;
    padding: 5px;
  }

  a,
  button {
    margin: 0px 2px;
  }

  .delete-actions {
    display: flex;
    justify-content: flex-end;
  }

  .icon-btn {
    height: 16px;
    width: 16px;
  }
</style>
