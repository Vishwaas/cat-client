<h2>Configuration List</h2>
<div class="configuration-container">
		{#if configurations && configurations.length}
			{#each configurations as configuration}
				<ConfigBox config={configuration} />
			{/each}
		{:else}
			No Configurations available. Kindle create one.
		{/if}
	</div>

<script>
	import ConfigBox from "../components/config-box";
	import AjaxService from "../services/ajax";

	export default {
	  components: { ConfigBox },

	  preload() {
	    let _this = this;
	    return AjaxService.get({
	      url: "/v1/configurations/"
	    })
	      .then(configurations => {
	        return { configurations };
	      })
	      .catch(() => {
	        console.error("Could not fetch confiugrations");
	      });
	  },

	  data() {
	    return {
	      id: null
	    };
	  }
	};
</script>

<style>
	.configuration-container {
	  display: flex;
	  justify-content: flex-start;
	  flex-wrap: wrap;
	}
</style>
