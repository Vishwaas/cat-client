<h2>Configuration List</h2>
{#await configurations}
	<div class="loading">Loading. Please Wait...</div>
{:then result}
	<div class="configuration-container">
		{#if result && result.length}
			{#each result as configuration}
				<ConfigBox config={configuration} />
			{/each}
		{:else}
			No Configurations available. Kindle create one.
		{/if}
	</div>
{/await}

<style>
	.configuration-container {
	  display: flex;
	  justify-content: flex-start;
	  flex-wrap: wrap;
	}
</style>

<script>
	import ConfigBox from "../components/config-box";

	export default {
	  components: { ConfigBox },

	  preload() {
	    return this.fetch("http://localhost:3000/v1/config")
	      .then(r => r.json())
	      .then(configurations => {
	        return { configurations };
	      });
	  },

	  data() {
	    return {
	      id: null
	    };
	  }
	};
</script>
